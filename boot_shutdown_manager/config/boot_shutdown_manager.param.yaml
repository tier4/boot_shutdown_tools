# Description:
#   managed_ecu: <- Fixed, Don't Change.
#     ecu_name: <- Any number of units can be added
#       state: {EcuState topic name}
#       prepare: {PrepareShutdown service name}
#       execute: {Executeshutdown service name}
#       skip_shutdown: {when true, the manager do not execute shutdown for this unit}
#       service_address: nNetwork address used to interact with the ECUâ€™s shutdown-related services
#       prepare_shutdown_port: Port number used for the shutdown preparation service of the ECU
#       execute_shutdown_port: Port number used for the shutdown execution service of the ECU
#   qos_profile_path: Path to a YAML file specifying QoS settings for each topic.
#   shutdown_config: Specifies the conditions to allow shutdown
#     logic: [AND, OR] global logic condition
#       {topic_name}: The topic whose message fields are evaluated
#         logic: [AND, OR] condition for fields within topic
#         {field_name}: A condition [eq, ne, le, lt, ge, gt, contains, not_contains]: {value} applied to the message field
#
# Note:
# default values are:
#   state: /{ecu_name}/get/ecu_state
#   prepare: /api/{ecu_name}/prepare_shutdown
#   execute: /api/{ecu_name}/execute_shutdown
#   primary: false
#   skip_shutdown: false
#   service_address: 127.0.0.1
#   prepare_shutdown_port: 10001
#   execute_shutdown_port: 10002
# shutdown_config:
#   logic: AND
#   {topic_name}:
#     logic: AND
---
/**:
  ros__parameters:
    update_rate: 1.0
    startup_timeout: 60.0
    preparation_timeout: 10.0
    topic_port: 10000
    service_timeout: 1
    managed_ecu:
      autoware_ecu:
        state: /autoware_ecu/get/ecu_state
        prepare: /api/autoware_ecu/prepare_shutdown
        execute: /api/autoware_ecu/execute_shutdown
        primary: true
        service_address: 192.168.20.11
      mot:
        skip_shutdown: true 
      logging:
        service_address: 192.168.20.71
    qos_profile_path: /etc/autoware_logging_suite/logpacker/qos_profile_overrides.yaml
    shutdown_config:
      logic: AND
      /vehicle/status/velocity_status:
        logic: AND
        longitudinal_velocity: { le: 0.0 }
        lateral_velocity: { le: 0.0 }
      /api/operation_mode/state:
        is_autoware_control_enabled: { eq: false }
